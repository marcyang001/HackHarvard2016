<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AgFuture: Analysis</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script type="text/javascript" src="./js/ngapp.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="./js/daily_rain_charts.js"></script>
    <script type="text/javascript" src="./js/monthly_rain_charts.js"></script>
    <script type="text/javascript" src="./js/temp_charts.js"></script>
    <script type="text/javascript" src="./js/avgtemp_charts.js"></script>
    <script type="text/javascript" src="./js/wind_charts.js"></script>
    <script type="text/javascript" src="./js/dataInputer.js"></script>
    <script type="text/javascript">
        google.charts.setOnLoadCallback(function () {
            drawDailyRainChart(dailyRainData);
        });
        google.charts.setOnLoadCallback(function () {
            drawTempChart(tempData);
        });
        google.charts.setOnLoadCallback(function () {
            drawMonthlyRainChart(monthlyRainData);
        });
        google.charts.setOnLoadCallback(function () {
            drawWindChart(windData);
        });
        google.charts.setOnLoadCallback(function () {
            drawAvgTempChart(avgTempData);
        });
    </script>
    <link href="./css/bootstrap.css" rel="stylesheet">

    <link href="./css/analysis.css" rel="stylesheet">
</head>
<body ng-app="farmApp" ng-controller="ctrl">
<!--left side grouping-->
<div class="container">
    <div class="nav">
        <p class="logo">AG FUTURE</p>
    </div>
    <div class="nav-empty"></div>

    <div class="col-md-3">
        <p class="lead">Boost your Agriculture</p>
        <div class="list-group">
            <a href="#" class="list-group-item" ng-model="showAnalyses" ng-click="showAnalyses()">Analyses</a>
            <a href="#" class="list-group-item" ng-model="showCtrl" ng-click="showCtrl()">Control Panel</a>
            <a href="#" class="list-group-item" ng-model="showLog" ng-click="showLog()">Activity Log / Todo</a>
        </div>
        <form action="./index.html">
            <input type="submit" value="Back" class="btn btn-success btn-lg btn-block" data-toggle="modal"/>
        </form>
    </div>


    <div class="col-md-9">
        <p class="farm-id" id="farmid">[Farm Name]</p>
        <hr>
        <div ng-show="isAnalyses">
            <div class="anayChart" id="temp"></div>
            <p>As the graph shows, in the following few months we may have a highest temperature of ?? and lowest of
                ???. Based on the machine learning algorithm, this is good/bad for your products in this farm. Also mind
                the high temperature, we suggest that you, the manager of this farm, <b>make sure that all plants are
                    hydrated and may irrigate extra once per week</b>.</p>
            <div class="anayChart" id="avgtemp"></div>
            <p></p>

            <div class="anayChart" id="daily-rain"></div>
            <p>Recently, we have average rainfall, and it seems that everything goes well. It will be raining heavily
                someday around [DATE]. And it seems that the precipitation will drop sharply after [DATE].</p>
            <div class="anayChart" id="monthly-rain"></div>
            <p>The monthly gives you a more overall perception about precipitation. Everything goes right!</p>
            <div class="anayChart" id="wind"></div>
            <p>Lucky you! You get mild wind in the following ten days and no worries about your products.</p>
            <hr>
            <h4>Advanced advice</h4>
            <p>Based on our huge database and machine learning algorithms, we believe that the growing season for this
                farm will last for 118 ~ 127 more days, that is, your expected harvest period is from [DATE] to
                [DATE].</p>
            <p>Also, the degree sweetness of your apples this year is expected to be [xxx], a little bit higher than
                previous ones. The quantity of apples and quality per apple are expected as [x] and [y]
                respectively. And the best selling period is considered from [date] to [date], [xxxx] days in total. And
                $xx/kg would be a reasonable price based on market trend in previous years.</p>
            <hr>
        </div>
        <div ng-show="isCtrl">
            <h4>Indoor Control (greenhouse only)</h4>

            <section id="container">

                <!--main content start-->
                <section id="main-content">
                    <section class="wrapper">
                        <! -- BASIC PROGRESS BARS -->
                        <div id="progress-block" class="showback">
                            <p class="left-label">Temperature: </p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40"
                                     aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                                </div>
                            </div>
                            <p class="left-label">Humidity: </p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20"
                                     aria-valuemin="0" aria-valuemax="100" style="width: 20%">
                                </div>
                            </div>
                            <p class="left-label">Oxygen Concentration: </p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60"
                                     aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                </div>

                            </div>
                            <p class="left-label">Illumination: </p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80"
                                     aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                </div>
                            </div>

                        </div><!--/showback -->
                        <div class="showback">
                            <h4><i class="fa fa-angle-right"></i> Theme Buttons</h4>
                        </div><!-- /showback -->
                        <! -- MODALS -->
                        <div class="showback">
                            <!-- Button trigger modal -->
                            <button class="btn btn-success btn-lg" data-toggle="modal" data-target="#">
                                Commit Change
                            </button>
                        </div><!-- /showback -->
                        <br>
                        <! --/col-lg-6 -->


                        <div class="showback">
                            <div class="alert alert-success"><b>Well done!</b> You successfully read this important
                                alert message.
                            </div>
                            <div class="alert alert-info"><b>Heads up!</b> This alert needs your attention, but it's not
                                super important.
                            </div>
                            <div class="alert alert-warning"><b>Warning!</b> Better check yourself, you're not looking
                                too good.
                            </div>
                            <div class="alert alert-danger"><b>Oh snap!</b> Change a few things up and try submitting
                                again.
                            </div>
                        </div><!-- /showback -->
                    </section>
                    <! --/wrapper -->
                </section><!-- /MAIN CONTENT -->
                <!--main content end-->


            </section>


            <hr>
            <h4>Outdoor Control</h4>
        </div>
    </div>


</div>
<script>
    var formData = window.location.search;
    var name = String(formData).match(/fname=.*?&/);
    name = name.substr(6);
    name = name.substr(0, name.length - 1);
    while (name.match("%20")) {
        name = name.replace("%20", " ");
    }

    var loca = String(formData).match(/fl=.*/)[0];
    loca = loca.substr(3);
    loca = loca.substr(0, loca.length - 1);
    while (loca.match("%20")) {
        loca = loca.replace("%20", " ");
    }
    document.getElementById("farmid").innerText = name + ", " + loca;
</script>

</body>
</html>